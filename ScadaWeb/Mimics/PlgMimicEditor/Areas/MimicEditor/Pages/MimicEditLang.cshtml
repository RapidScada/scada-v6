@page "~/plugins/MimicEditor/js/mimic-edit-lang.js"
@inject EditorManager editorManager
@{
    Response.ContentType = "text/javascript";
    Response.Headers.CacheControl = "no-cache, no-store";
    var translation = editorManager.ModelTranslation;
}
phrases = @WebUtils.DictionaryToJs(typeof(MimicEditModel).FullName + ".Js");

translation = {
category: @WebUtils.DictionaryToJs(translation.CategoryDict, true),

mimic: @WebUtils.DictionaryToJs(translation.MimicDict, true),

component: @WebUtils.DictionaryToJs(translation.ComponentDict, true),

components: new Map([
@foreach (var (typeName, dict) in translation.ComponentDicts.OrderBy(pair => pair.Key))
{
    @string.Format("['{0}',", typeName).ToHtmlString()
    @WebUtils.DictionaryToJs(dict, true)
    @("],")
    @Environment.NewLine.ToHtmlString()
}
]),

subtypes: new Map([
@foreach (var (subtypeName, dict) in translation.SubtypeDicts.OrderBy(pair => pair.Key))
{
    @string.Format("['{0}',", subtypeName).ToHtmlString()
    @WebUtils.DictionaryToJs(dict, true)
    @("],")
    @Environment.NewLine.ToHtmlString()
}
])
};
