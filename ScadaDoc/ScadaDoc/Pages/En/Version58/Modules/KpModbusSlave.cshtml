@page "/en/5.8/modules/kp-modbus-slave"
@{
    Layout = "_ArticleLayout";
    ViewBag.Title = "Modbus Slave Driver";
}

<nav class="doc-toc">
    <div class="h6">On this page</div>
    <hr>
    <ul>
        <li><a href="#overview">Overview</a></li>
        <li><a href="#installation">Installation</a></li>
        <li><a href="#configuring">Configuring</a></li>
    </ul>
</nav>

<div class="doc-content">
    <h1>Modbus Slave Driver</h1>
    <h2 id="overview">Overview</h2>
    <p>The driver supports the standard <a href="https://en.wikipedia.org/wiki/Modbus" target="_blank">Modbus communication protocol</a> and works as a slave. Using the driver, the Communicator waits for incoming requests and commands from a third-party device or application that works as a master. The following communication channels are supported: serial port, TCP server, and UDP. The driver can work in Modbus RTU or Modbus TCP mode.</p>

    <p>Modbus Slave Driver features:</p>
    <ol>
        <li>Receives data from a device using write commands.</li>
        <li>Provides data to a device in response to read commands.</li>
        <li>Transmits values of Rapid SCADA input channels received from other devices in order to integrate with third-party systems.</li>
    </ol>

    <h2 id="installation">Installation</h2>
    <p>Modbus Slave Driver is installed in accordance with <a href="../installation-and-run/module-installation#drivers">the general sequence of installing Communicator drivers</a>. The driver library file is KpModbusSlave.dll.</p>

    <h2 id="configuring">Configuring</h2>
    <p>First of all, create a new communication line and a new device in the configuration database, as well as in the Communicator settings. For this purpose, it is suggested to use wizards that are opened by the <img src="../common-images/add_line.png" /> and <img src="../common-images/add_device.png" /> buttons. The device address matters, because this is the unit ID that the Communicator validates to respond. Then open the main parameters of the communication line, select the communication channel type and configure its properties. Examples of communication channel properties are shown below.</p>

    <figure class="figure">
        <img src="kp-modbus-slave-files/serial_port_en.png" class="figure-img img-fluid" alt="Serial port properties">
    </figure>

    <figure class="figure">
        <img src="kp-modbus-slave-files/tcp_server_en.png" class="figure-img img-fluid" alt="TCP server properties" />
    </figure>

    <p>After creating a device in Communicator, open the the device properties form and configure the device.</p>

    <figure class="figure">
        <img src="kp-modbus-slave-files/device_props_en.png" class="figure-img img-fluid" alt="Modbus Slave device properties" />
    </figure>

    <p><em>Input data validity period</em> allows to automatically set the undefined status of the device input tags, if no new data has been received from the device within a specified time.</p>
    <p><em>Device template</em> defines the Modbus register map. Device templates of the KpModbus.dll and KpModbusSlave.dll drivers are fully compatible.</p>
    <p><em>Data source device</em> is set to non-zero to transmit the input channels values received from another device into a third-party system. If the driver is used to interact with a real device, this parameter should be 0.</p>

    <p>The following figure shows the Modbus template editor:</p>

    <figure class="figure">
        <img src="kp-modbus-slave-files/template_editor_en.png" class="figure-img img-fluid" alt="Modbus template editor" />
    </figure>

    <p>Modbus Slave Driver requires registration. After completing the settings, upload the project to the server using the <img src="../common-images/upload.png" /> button. Then open the <em>Drivers</em> page in the Administrator application, select the KpModbusSlave.dll driver, open the driver properties and register it. After registration, upload the project to the server again.</p>
</div>
