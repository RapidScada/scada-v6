@page "/ru/5.8/modules/plg-chart-pro"
@{
    Layout = "_ArticleLayout";
    ViewBag.Title = "Плагин Графики Про";
}

<nav class="doc-toc">
    <div class="h6">На этой странице</div>
    <hr>
    <ul>
        <li><a href="#overview">Обзор</a></li>
        <li><a href="#installation">Установка</a></li>
        <li><a href="#configuring">Конфигурирование</a></li>
    </ul>
</nav>

<div class="doc-content">
    <h1>Плагин Графики Про</h1>
    <h2 id="overview">Обзор</h2>
    <p>Плагин Графики Про — это дополнительный плагин для приложения Вебстанция, расширяющий возможности работы с графиками входных каналов: масштабирование, одновременное отображение нескольких графиков, экспорт в форматы PNG и PDF.</p>

    <h2 id="installation">Установка</h2>
    <p>Сначала необходимо выполнить <a href="../installation-and-run/module-installation#plugins">общую последовательность установки плагинов</a>, а затем выполнить несколько дополнительных действий:</p>
    <ol>
        <li>Перейти на страницу <em>Главное меню &gt; Регистрация &gt; Графики Про</em>.</li>
        <li>Зарегистрировать плагин, используя гиперссылки, размещённые на странице.</li>
        <li>Перейти на страницу <em>Главное меню &gt; Конфигурация &gt; Веб-приложение</em>.</li>
        <li>Найти параметр <em>Плагин графиков</em>, выбрать из выпадающего списка плагин Графики Про, затем щёлкнуть кнопку <em>Сохранить конфигурацию</em>.</li>
        <li>Скачать изменившиеся настройки Вебстанции в проект с помощью приложения Администратор.</li>
    </ol>

    <h2 id="configuring">Конфигурирование</h2>
    <p>Плагин Графики Про сконфигурирован по умолчанию. Настройки плагина сохраняются в файле PlgChartPro.xml, который располагается в проекте в директории конфигурации Вебстанции. В случае необходимости администратор системы может изменить настройки, отредактировав существующий или создав новый файл настроек.</p>

    <p>
        В дополнение к файлу конфигурации отображение графика определяется строкой запроса. Строка запроса имеет вид:<br />
        http://localhost/Scada/plugins/ChartPro/ChartPro.aspx?cnlNums=101&viewIDs=2&year=2020&month=3&day=31&mode=fixed&period=1&title=Test&config=PlgChartPro.xml
    </p>

    <p>Параметры адресной строки:</p>

    <table class="table table-hover">
        <thead>
            <tr>
                <th>Параметр</th>
                <th>Значения</th>
                <th>Описание</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>cnlNums</td>
                <td>Целые числа, разделённые запятыми</td>
                <td>Номера входных каналов, отображаемых на графике</td>
            </tr>
            <tr>
                <td>viewIDs</td>
                <td>Целые числа, разделённые запятыми</td>
                <td>Идентификаторы представлений по каждому входному каналу</td>
            </tr>
            <tr>
                <td>year, month, day</td>
                <td>Целые числа</td>
                <td>Начальная дата отображаемых данных. Если не указана, используется текущая дата</td>
            </tr>
            <tr>
                <td>mode</td>
                <td>fixed | rolling</td>
                <td>Режим работы графика: фиксированный или скользящий</td>
            </tr>
            <tr>
                <td>period</td>
                <td>Целое число. Может быть как положительным, так и отрицательным</td>
                <td>Период графика относительно начальной даты. В днях для фиксированного режима и в минутах для скользящего</td>
            </tr>
            <tr>
                <td>title</td>
                <td>Строка. Может быть пустой</td>
                <td>Заголовок графика</td>
            </tr>
            <tr>
                <td>config</td>
                <td>Строка. Может быть пустой</td>
                <td>Имя файла конфигурации графика относительно директории конфигурации веб приложения</td>
            </tr>
        </tbody>
    </table>

    <p>В фиксированном режиме работы плагин отображает график за выбранный период времени. Происходит автоматическое обновление данных на графике с добавлением новых значений в правую часть графика.</p>

    <p>В скользящем режиме плагин отображает график от текущего момента до указанной глубины. Происходит автоматическое обновление данных, при этом график смещается справа налево.</p>

    <p>Следующий рисунок помогает понять компоновку графика, если необходимо изменить конфигурацию плагина.</p>
    <figure class="figure">
        <img src="plg-chart-pro-files/chart_parts.svg" class="figure-img img-fluid" alt="Компоновка графика" />
    </figure>
</div>
