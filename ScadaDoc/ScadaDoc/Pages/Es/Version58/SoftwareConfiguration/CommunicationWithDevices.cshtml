@page "/es/5.8/software-configuration/communication-with-devices"
@{
    Layout = "_ArticleLayout";
    ViewBag.Title = "Configuración de la comunicación con los dispositivos";
}

<h1>Configuración de la comunicación con los dispositivos</h1>

<p>La interacción con dispositivos reales o virtuales se realiza mediante la aplicación Communicator que funciona como un máster o un esclavo, solicitando datos y enviando comandos a los dispositivos. Todos los dispositivos están vinculados a las líneas de comunicación. Las líneas de comunicación son independientes entre sí y funcionan en paralelo.</p>

<p>La interfaz de usuario del Communicator, diseñada para configurarlo, es parte de la aplicación Administrator. El Communicator debe ser configurado como parte de un proyecto.</p>

<p>La figura 1 muestra un ejemplo de los parámetros principales de una línea de comunicación. Un canal de comunicación comprende la interfaz física y un protocolo de red que se usa para intercambiar los datos con los dispositivos. Rapid Scada soporta los siguientes canales de comunicación: Puerto serie, cliente TCP, servidor TCP y UDP. En ciertos casos, si la interacción con un dispositivo es implementada por el controlador del mismo, el canal de comunicación debe ser “indefinido” (p.ej., el controlador (driver) OPC).</p>

<p>Si no se requiere enviar comandos a los dispositivos, por razones de seguridad se recomienda desmarcar la casilla <em>Commands enabled (Comandos habilitados)</em> por razones de seguridad.</p>

<figure class="figure">
    <img src="communication-with-devices-files/comm_line_params_en.png" class="figure-img img-fluid" alt="Parámetros principales de una línea de comunicación">
    <figcaption class="figure-caption">Figura 1. Parámetros principales de una línea de comunicación</figcaption>
</figure>

<figure class="figure">
    <img src="communication-with-devices-files/comm_line_req_en.png" class="figure-img img-fluid" alt="Secuencia de solicitud">
    <figcaption class="figure-caption">Figura 2. Secuencia de solicitud</figcaption>
</figure>

<p>El orden en que se realiza la comunicación con los dispositivos y los parámetros de la solicitud se establecen en la página <em>Request Sequence (Secuencia de solicitud),</em> (refiérase a la figura 2).</p>

<p>Si la casilla <em>Active </em>en la página <em>Main Parameters (Parámetros principales)</em>está desmarcada, la línea de comunicación queda desactivada y no se realizarán solicitudes en esa línea. Si la casilla <em>Active </em>en el cuadro <em>Selected Device (Dispositivo seleccionado) </em> está desmarcada, la comunicación con ese dispositivo queda desactivada.</p>

<p>La casilla <em>Bound to Server (Vinculado con el servidor)</em> en la página <em>Main Parameters</em> permite activar o desactivar el envío de los datos de la línea de comunicación al Servidor. La casilla <em>Bound to Server</em> en el cuadro de grupo <em>Selected Device</em> tiene el mismo objetivo, pero se aplica solamente al dispositivo. Si la casilla <em> Interact with Server (Interactuar con servidor) </em>en la página <em>Custom Parameters (Parámetros propios) </em>de los ajustes del Comunicador está desmarcada, toda interacción entre el Comunicador y el Servidor queda desactivada. Estas opciones son útiles para probar nuevos dispositivos que sean conectados al sistema.</p>

<p>Si los parámetros <em>Time (Hora) </em>y <em>Period (Período) </em> de un dispositivo  son cero, el dispositivo es solicitado de manera cíclica. Si el parámetro <em>Time </em>es mayor que cero y el <em>Period </em>es cero, el dispositivo es solicitado una vez al día en la hora especificada. Si el <em>Period </em>es mayor que cero, el dispositivo es solicitado periódicamente a partir de la hora especificada. El campo <em>Timeout (Tiempo de espera)</em> define cuanto esperar por una respuesta del dispositivo tras una solicitud. El campo <em>Delay (Retardo) </em>define un tiempo tras cada solicitud enviada al dispositivo. <em>Command line (Línea de comando) </em>puede contener parámetros adicionales descritos en la documentación de un controlador de dispositivo.</p>

<p>Para restablecer los parámetros de solicitud del dispositivo seleccionado a los valores por defecto, haga clic en el botón  <em>Reset (Restablecer)</em>. Para abrir el formulario de propiedades del dispositivo, en caso de que el mismo sea soportado por el controlador específico del dispositivo seleccionado, haga clic en el botón <em>Properties (Propiedades) </em>o use el menú emergente del explorador de proyectos. Para establecer las propiedades globales para un tipo de dispositivo, seleccione la página  <em>Drivers (Controladores)</em>, seleccione el controlador del dispositivo, y si el botón  está habilitado, haga clic en <em>Properties</em>.</p>

<p>Para importar las líneas de comunicación y los dispositivos desde la base de datos de configuración, a la configuración del Communicator, haga clic derecho en el nodo <em>Communication Lines</em> o en el nodo de una línea de comunicación específica en el explorador de proyectos, y seleccione el ítem a importar en el menú contextual. El formulario de importación se muestra en la figura 3.</p>

<figure class="figure">
    <img src="communication-with-devices-files/comm_import_en.png" class="figure-img img-fluid" alt="Importar configuración para el Comunicador">
    <figcaption class="figure-caption">Figura 3. Importar configuración para el Comunicador</figcaption>
</figure>

<p>La función de sincronizar ajustes del Communicator <em>Sync Communicator Settings (Sincronizar ajustes del Comunicador)</em> (refiérase a la figura 4), se realiza también utilizando el menú contextual de la línea de comunicación. La sincronización permite actualizar los parámetros de las líneas de comunicación y de los dispositivos existentes según la base de datos de configuración. Sin embargo, los parámetros ingresados a mano podrían perderse.</p>

<figure class="figure">
    <img src="communication-with-devices-files/comm_sync_en.png" class="figure-img img-fluid" alt="Sincronizar ajustes del Comunicador">
    <figcaption class="figure-caption">Figura 4. Sincronizar ajustes del Comunicador</figcaption>
</figure>
